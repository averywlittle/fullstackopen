{"ast":null,"code":"var _jsxFileName = \"/home/averywlittle/code/fullstackopen/part7/bloglist/client/src/components/BlogList.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport Blog from '../components/Blog';\nimport { likeBlog, removeBlog } from '../reducers/blogReducer';\n\nconst BlogList = props => {\n  const likeBlog = async blog => {\n    props.likeBlog(); // try {\n    //   const newBlog = {\n    //     user: blog.user,\n    //     title: blog.title,\n    //     author: blog.author,\n    //     url: blog.url,\n    //     likes: blog.likes + 1\n    //   }\n    //   const savedBlog = await blogService.update(newBlog, blog.id)\n    //   if (savedBlog) {\n    //     console.log('blog like', savedBlog)\n    //     let newBlogList = [...blogs]\n    //     const index = newBlogList.findIndex((blog) => { return blog.id === savedBlog.id ? true : false })\n    //     if (index !== -1) {\n    //       newBlogList[index] = savedBlog\n    //       setBlogs(newBlogList)\n    //     }\n    //   }\n    // } catch (exception) {\n    //   console.error('like blog exception', exception)\n    // }\n  };\n\n  const removeBlog = async id => {\n    props.removeBlog(id);\n  };\n\n  return React.createElement(\"div\", {\n    className: \"blog-list\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, props.blogs.sort((a, b) => b.likes - a.likes).map(blog => React.createElement(Blog, {\n    key: blog.id,\n    blog: blog,\n    user: blog.user.name,\n    likeBlog: likeBlog,\n    removeBlog: removeBlog,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  })));\n};\n\nconst mapDispatchToProps = {\n  likeBlog,\n  removeBlog\n};\n\nconst mapStateToProps = state => {\n  return {\n    blogs: state.blogs\n  };\n};\n\nconst ConnectedBlogList = connect(mapStateToProps, mapDispatchToProps)(BlogList);\nexport default ConnectedBlogList;","map":{"version":3,"sources":["/home/averywlittle/code/fullstackopen/part7/bloglist/client/src/components/BlogList.js"],"names":["React","connect","Blog","likeBlog","removeBlog","BlogList","props","blog","id","blogs","sort","a","b","likes","map","user","name","mapDispatchToProps","mapStateToProps","state","ConnectedBlogList"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,IAAP,MAAiB,oBAAjB;AACA,SAASC,QAAT,EAAmBC,UAAnB,QAAqC,yBAArC;;AAEA,MAAMC,QAAQ,GAAIC,KAAD,IAAW;AAExB,QAAMH,QAAQ,GAAG,MAAOI,IAAP,IAAgB;AAC/BD,IAAAA,KAAK,CAACH,QAAN,GAD+B,CAE7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACH,GA1BD;;AA4BA,QAAMC,UAAU,GAAG,MAAOI,EAAP,IAAc;AAC/BF,IAAAA,KAAK,CAACF,UAAN,CAAiBI,EAAjB;AACD,GAFD;;AAIA,SACI;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKF,KAAK,CAACG,KAAN,CAAYC,IAAZ,CAAiB,CAACC,CAAD,EAAIC,CAAJ,KAAUA,CAAC,CAACC,KAAF,GAAUF,CAAC,CAACE,KAAvC,EAA8CC,GAA9C,CAAkDP,IAAI,IACnD,oBAAC,IAAD;AAAM,IAAA,GAAG,EAAEA,IAAI,CAACC,EAAhB;AAAoB,IAAA,IAAI,EAAED,IAA1B;AAAgC,IAAA,IAAI,EAAEA,IAAI,CAACQ,IAAL,CAAUC,IAAhD;AAAsD,IAAA,QAAQ,EAAEb,QAAhE;AAA0E,IAAA,UAAU,EAAEC,UAAtF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADH,CADL,CADJ;AAOH,CAzCD;;AA2CA,MAAMa,kBAAkB,GAAG;AACzBd,EAAAA,QADyB;AAEzBC,EAAAA;AAFyB,CAA3B;;AAKA,MAAMc,eAAe,GAAIC,KAAD,IAAW;AACjC,SAAO;AACLV,IAAAA,KAAK,EAAEU,KAAK,CAACV;AADR,GAAP;AAGD,CAJD;;AAMA,MAAMW,iBAAiB,GAAGnB,OAAO,CAC/BiB,eAD+B,EAE/BD,kBAF+B,CAAP,CAGxBZ,QAHwB,CAA1B;AAIA,eAAee,iBAAf","sourcesContent":["import React from 'react'\nimport { connect } from 'react-redux'\nimport Blog from '../components/Blog'\nimport { likeBlog, removeBlog } from '../reducers/blogReducer'\n\nconst BlogList = (props) => {\n\n    const likeBlog = async (blog) => {\n      props.likeBlog()\n        // try {\n        //   const newBlog = {\n        //     user: blog.user,\n        //     title: blog.title,\n        //     author: blog.author,\n        //     url: blog.url,\n        //     likes: blog.likes + 1\n        //   }\n    \n        //   const savedBlog = await blogService.update(newBlog, blog.id)\n        //   if (savedBlog) {\n        //     console.log('blog like', savedBlog)\n        //     let newBlogList = [...blogs]\n        //     const index = newBlogList.findIndex((blog) => { return blog.id === savedBlog.id ? true : false })\n    \n        //     if (index !== -1) {\n        //       newBlogList[index] = savedBlog\n        //       setBlogs(newBlogList)\n        //     }\n        //   }\n    \n        // } catch (exception) {\n        //   console.error('like blog exception', exception)\n        // }\n    }\n    \n    const removeBlog = async (id) => {\n      props.removeBlog(id)\n    }\n\n    return (\n        <div className=\"blog-list\">\n            {props.blogs.sort((a, b) => b.likes - a.likes).map(blog =>\n                <Blog key={blog.id} blog={blog} user={blog.user.name} likeBlog={likeBlog} removeBlog={removeBlog} />\n            )}\n        </div>\n    )\n}\n\nconst mapDispatchToProps = {\n  likeBlog,\n  removeBlog\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    blogs: state.blogs\n  }\n}\n\nconst ConnectedBlogList = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(BlogList)\nexport default ConnectedBlogList\n\n"]},"metadata":{},"sourceType":"module"}